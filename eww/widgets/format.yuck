(defvar JQ_MEM_ROUND "if . < 1024 then .*10|round/10 else if . < 1024 * 1024 then . / 1024*10|round/10 else if . < 1024 * 1024 * 1024 then . / 1024 / 1024*10|round/10|tostring else if . < 1024 * 1024 * 1024 * 1024 then . / 1024 / 1024 / 1024*10|round/10 else if . < 1024 * 1024 * 1024 * 1024 * 1024 then . / 1024 / 1024 / 1024 / 1024*10|round/10 else . / 1024 / 1024 / 1024 / 1024 / 1024*10|round/10 end end end end end")

(defvar JQ_MEM_UNITS "if . < 1024 then \"B\" else if . < 1024 * 1024 then \"KB\" else if . < 1024 * 1024 * 1024 then \"MB\" else if . < 1024 * 1024 * 1024 * 1024 then \"GB\" else if . < 1024 * 1024 * 1024 * 1024 * 1024 then \"TB\" else \"PB\" end end end end end")

(defvar JQ_MEM_ROUND_UNITS "if . < 1024 then [(.*10|round/10|tostring) + \"B\"] else if . < 1024 * 1024 then [(. / 1024*10|round/10|tostring) + \"KB\"] else if . < 1024 * 1024 * 1024 then [(. / 1024 / 1024*10|round/10|tostring) + \"MB\"] else if . < 1024 * 1024 * 1024 * 1024 then [(. / 1024 / 1024 / 1024*10|round/10|tostring) + \"GB\"] else if . < 1024 * 1024 * 1024 * 1024 * 1024 then [(. / 1024 / 1024 / 1024 / 1024*10|round/10|tostring) + \"TB\"] else [(. / 1024 / 1024 / 1024 / 1024 / 1024*10|round/10|tostring) + \"PB\"] end end end end end")
